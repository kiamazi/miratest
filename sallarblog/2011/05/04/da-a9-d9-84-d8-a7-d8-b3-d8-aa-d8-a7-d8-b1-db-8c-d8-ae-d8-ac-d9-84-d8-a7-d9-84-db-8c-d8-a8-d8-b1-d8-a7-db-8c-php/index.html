




  <!DOCTYPE html>
<html lang="English">
<head>

<meta charset="utf-8">

<title>کلاس تاریخ جلالی برای php - سالار کابلی</title>

<meta name="description" content="Exploring Javascript &amp; Things">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="Exploring Javascript &amp; Things">
<meta property="og:type" content="website">
<meta property="og:title" content="">
<meta property="og:url" content="https:/kiamazi.github.io/miratest/sallarblog">
<meta property="og:site_name" content="سالار کابلی">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="">
<meta name="twitter:description" content="">
<meta name="twitter:creator" content="@sallar">
<link rel="alternative" href="/miratest/sallarblog/atom.xml" title="Sallar Kaboli" type="application/atom+xml">
<link rel="short icon" href="/miratest/static/theme/sallar/img/logo.png">
<link rel="stylesheet" href="/miratest/static/theme/sallar/css/style-rtl.css" type="text/css">

</head>


<body>

<!--
 تیتر خام صفحه
 برای صفحه اصلی تیتر، برای پست ها خلاصه مطلب

-->



    <!-- Header -->
<header>
    <nav class="container">
        <ul>
            <li><a href="http://kiamazi.github.io/miratest">صفحه اول</a></li>
            <li><a href="/miratest/sallarblog">بلاگ</a></li>
            <li><a href="/miratest/sallarblog/contact/">تماس</a></li>
            <li class="logo"><a href="/">- سالار‌کابلی -</a></li>
            <li><a href="https://fi.linkedin.com/in/sallarkaboli" target="_blank">لینکدین</a></li>
            <li><a href="https://github.com/sallar" target="_blank">گیتهاب</a></li>
            <li><a href="https://twitter.com/sallar" target="_blank">توییتر</a></li>
        </ul>
    </nav>
</header>
<!-- /Header -->

    <section id="content" class="container">

    <article id="-کلاس تاریخ جلالی برای php" class="article article-type-" itemscope itemprop="blogPost">
        <h2 itemprop="name">
           <a class="archive-article-title" href="/miratest/sallarblog/2011/05/04/da-a9-d9-84-d8-a7-d8-b3-d8-aa-d8-a7-d8-b1-db-8c-d8-ae-d8-ac-d9-84-d8-a7-d9-84-db-8c-d8-a8-d8-b1-d8-a7-db-8c-php/" target="_blank" itemprop="url">کلاس تاریخ جلالی برای php</a>
        </h2>
        <h4><time datetime="2011-05-04 17:35:50" itemprop="datePublished">۱۴اردیبهشت۱۳۹۰</time></h4>

        <section class="content">
            <a name="more"></a><br><p>سالها بود برای تبدیل تاریخ میلادی به جلالی در پروژه‌ها از تابع تاریخ شمسی که توسط دوست خوبم میلاد راستیان نوشته شده بود استفاده می‌کردم و این تابع با وجود قدیمی بودنش به خوبی از پس همه کارها بر می‌آمد. تا شب پیش که درحال کار کردن روی سیستمی بودم که نیاز به محاسبی زمانی برای سالهای بسیار دور داشت (مثلا ۱۰۰ سال آینده). با کمی تست متوجه شدم که تابع <a href="http://php.net/date"><em>date</em></a> که تابع پیشفرض پی‌اچ‌پی برای تاریخ و زمان است، حداکثر تا سال ۲۰۳۸ میلادی قادر به محاسبه است. به همین دلیل تابع تاریخ شمسی قبلی که از آن استفاده می‌کردم، بخاطر اینکه بر اساس تابع date نوشته شده بود، قادر به محاسبه سال‌های بیشتر از ۱۴۱۵ شمسی نبود. بعد از اینکه مطمئن شدم این تابع قابل تصحیح نیست، تصمیم گرفتم بر اساس امکان جدیدی که در PHP5 معرفی شده بود به نام <em>DateTime</em>، یک کلاس تاریخ جلالی بنویسم که امکاناتی که برای پروژه خودم مد نظر بود را داشته باشد. گفتنی است که کلاس <em>DateTime</em> در پی‌اچ‌پی قادر است تا سال ۹۹۹۹ میلادی را محاسبه کند.</p>

<h2>امکانات کلاس تاریخ جلالی (نسخه ۱)</h2>

<ul>
<li>قالب بندی زمان بر اساس تمام پارامتر های موجود در <a href="http://php.net/date">تابع <em>date</em> پی‌اچ‌پی</a></li>
<li>امکان فعال/غیرفعال کردن تبدیل تاریخ به جلالی</li>
<li>امکان فعال/غیرفعال کردن تبدیل اعداد به فارسی</li>
<li>امکان استفاده از <a href="http://www.php.net/manual/en/timezones.php">مناطق زمانی تعریف شده در پی‌اچ‌پی</a>، برای مثال: <em>Asia/Tehran</em></li>
<li>امکان ساخت زمان از نوع <em>Unix Timestamp</em> یا <em>Epoch Time</em></li>
<li>نوشته شده به صورت شی‌گرا.
برای مشاهده راهنما و دریافت سورس کد کلاس تاریخ جلالی برای <em>php</em> <a href="http://sallar.me/projects/jdatetime/">کلیک کنید.</a></li>
</ul>
        </section>

        <section class="meta">
            <hr>
            
              <span class="hide-on-mobile">
    منتشر شده در:
              
                <a href="/miratest/sallarblog/categories/توسعه-وب/">توسعه وب</a>
		

              </span>
            
                <section class="share">
                    <share-button></share-button>
                </section>
        </section>

        <section id="comments">
          <div id="disqus_thread">
	  
	  <script>
	    var disqus_shortname = 'sallar';
	      (function(){
		var dsq = document.createElement('script');
		dsq.type = 'text/javascript';
		dsq.async = true;
		dsq.src = '//' + disqus_shortname + '.disqus.com/count.js';
		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	    })();
	    </script>
            
          <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
            </div>
        </section>

    </article>



</section>

  <!-- /Content -->
<!-- Footer -->
<footer>
    <section class="copyright">
        <p class="container">
            ۱۳۸۴-۱۳۹۰<br />
            مطالب تحت لیسانس <a href="http://creativecommons.org/licenses/by-nc-nd/3.0/" rel="license" target="_blank">کریتیو کامنز</a> منتشر می‌شوند.
        </p>
    </section>
</footer>
<!-- /Footer -->

<!-- Scripts -->
<script src="/miratest/static/theme/sallar/js/share-button.js" type="text/javascript"></script>
<script src="/miratest/static/theme/sallar/js/prettify/prettify.js" type="text/javascript"></script>
<script src="/miratest/static/theme/sallar/js/run.js" type="text/javascript"></script>
<!-- /Scripts -->

</body>
</html>


